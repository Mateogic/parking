<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的预约 - 零点跃迁停车场</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/user.css">
</head>
<body>
    <div class="container">
        <div class="back-button">
            <a href="index.html">
                <svg viewBox="0 0 448 512" width="24" height="24">
                    <path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/>
                </svg>
                返回停车场
            </a>
        </div>
        
        <div class="user-header">
            <h1>我的预约</h1>
            <div id="user-info">
                <div class="avatar">
                    <svg viewBox="0 0 448 512" width="32" height="32">
                        <path fill="currentColor" d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                    </svg>
                </div>
                <h2 id="profile-name">加载中...</h2>
                <p id="profile-phone">加载中...</p>
            </div>
        </div>
        
        <div class="content-section" id="current-reservation">
            <h2>当前预约</h2>
            <div id="no-reservation" class="no-data">
                <p>您当前没有预约车位</p>
                <a href="index.html" class="action-btn success-btn">立即去预约</a>
            </div>
            <div id="active-reservation" style="display:none">
                <div class="reservation-details">
                    <div class="reservation-status">
                        <svg class="icon-status" viewBox="0 0 512 512" width="24" height="24">
                            <path fill="#3498db" d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/>
                        </svg>
                        <span>预约中</span>
                    </div>
                    <div class="reservation-info-grid">
                        <div class="reservation-info-item">
                            <label>楼层</label>
                            <span id="reserved-floor">-</span>
                        </div>
                        <div class="reservation-info-item">
                            <label>车位号</label>
                            <span id="reserved-position">-</span>
                        </div>
                        <div class="reservation-info-item">
                            <label>预约时间</label>
                            <span id="reservation-time">-</span>
                        </div>
                        <div class="reservation-info-item">
                            <label>剩余时间</label>
                            <span id="time-remaining" class="countdown">-</span>
                        </div>
                    </div>
                    <div class="reservation-actions">
                        <button id="cancel-reservation" class="action-btn">取消预约</button>
                        <button id="extend-reservation" class="action-btn success-btn">延长预约</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content-section" id="reservation-history">
            <h2>历史记录</h2>
            <div id="history-list">
                <div class="history-item">
                    <div class="history-status completed">
                        <svg viewBox="0 0 512 512" width="18" height="18">
                            <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
                        </svg>
                        <span>已完成</span>
                    </div>
                    <div class="history-details">
                        <div class="history-info">
                            <h3>B1层 3-5号车位</h3>
                            <p>2025-04-01 10:30:21</p>
                        </div>
                        <div class="history-time">停留时间: 35分钟</div>
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-status expired">
                        <svg viewBox="0 0 512 512" width="18" height="18">
                            <path fill="currentColor" d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
                        </svg>
                        <span>已过期</span>
                    </div>
                    <div class="history-details">
                        <div class="history-info">
                            <h3>B2层 2-1号车位</h3>
                            <p>2025-03-28 16:45:10</p>
                        </div>
                        <div class="history-time">未到达</div>
                    </div>
                </div>
                <div class="history-item">
                    <div class="history-status canceled">
                        <svg viewBox="0 0 512 512" width="18" height="18">
                            <path fill="currentColor" d="M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/>
                        </svg>
                        <span>已取消</span>
                    </div>
                    <div class="history-details">
                        <div class="history-info">
                            <h3>B1层 1-2号车位</h3>
                            <p>2025-03-25 09:12:33</p>
                        </div>
                        <div class="history-time">取消时间: 09:15:40</div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>© 2025 零点跃迁停车场管理系统</p>
        </footer>
    </div>
    
    <script src="js/auth.js?v=20250402"></script>
    <script src="js/user.js?v=20250402"></script>
</body>
</html> 